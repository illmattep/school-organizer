<script>
    // when the page loads set hiddenflag to true
    var hiddenflag = true;

    function toggle(id) {
        var elements = document.querySelectorAll('[id="overlay"]');
        console.log(elements);  
        if (hiddenflag) {
            show(elements);
            hiddenflag = false;
        } else {
            hide(elements);
            hiddenflag = true;
        }
    }

    function show(elements) {
        elements.forEach(function(element) {
            element.classList.remove("hidden");
        });
    }

    function hide(elements) {
        elements.forEach(function(element) {
            element.classList.add("hidden");
        });
    }

    function hideOverlay() {
        var overlay = document.getElementById("overlay");
        hiddenflag = true;
        hide([overlay]);
    }
</script>


<div class="container">
    <div class="text">{{ Text['add_new_class_heading'] }}</div>
    <div class="button" id="button" onclick="toggle('button');">+</div>
</div>

<div class="hidden overlay" id="overlay">
    <div class="closebutton" onclick="hideOverlay();" style="color: white; font-size: 24px;">&times;</div>
    {% include 'components/' ~ popup_id ~ '_snippet.html' %}
</div>

<style>
    .container {
        width: 200px;
        height: 100px;
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        cursor: pointer;
    }

    .container:hover {
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    }

    .text {
        font-weight: bold;
    }

    .button {
        width: 40px;
        height: 40px;
        background-color: #ffffff;
        border-radius: 25%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
        margin-top: 10px;
        cursor: pointer;
    }

    .button:hover {
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    }

    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
    }

    .popup {
        width: 400px;
        height: 300px;
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .hidden {
        display: none;
    }

    .closebutton {
        position: absolute;
        top: 10px;
        right: 10px;
        cursor: pointer;
    }
</style>